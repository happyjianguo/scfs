<div class="wrapper">
    <section class="content-header my-content-header">
  	<ol class="breadcrumb">
	    <li>当前位置</li>
	    <li>基础信息</li>
	    <li>商品</li>
	    <li class="active">编辑商品</li>
  	</ol>
  </section>
  <section class="product-wrap">
        <div class="box no-margin"> 
          <form class="form-horizontal form-inline" id="form1" data-url="goods/edit">
            <div class="box-body">  
               	  <input class="form-control js-initform" type="hidden" id="id" name="id">
                  <table class="table table-bordered table-hover no-margin">
                  	<tr>
                      <td width="180" class="text-right"><b>编号：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="number" name="number" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>名称：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="name" name="name" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                       <td class="text-right"><b>品牌：<em class="text-star">*</em></b></td>
                       <td class="text-left">
                           <input type="text" class="form-control js-initform" id="brand" name="brand" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>型号：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="type" name="type" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>条码：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="barCode" name="barCode" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>规格：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="specification" name="specification" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>税收分类：</b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="taxClassification" name="taxClassification" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>国内税率：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                        	<select class="form-control js-initform" data-url="GOODS_CHINA_RATE" id="taxRate"  name="taxRate" style="width: 600px"> </select> 
                       </td>
                    </tr> 
                    <tr>
                      <td class="text-right"><b>单位：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="unit" name="unit" style="width: 600px">
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>体积：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                          <div class="input-group">
                            <input type="text" class="form-control js-initform" id="volume" name="volume" onkeyup="numberFix4Decimal(this)" style="width: 557px">
                            <span class="input-group-addon">cm</span>
                          </div>
                        </td>
                    </tr> 
                      <tr>
                      <td class="text-right"><b>长：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                          <div class="input-group">
                            <input type="text" class="form-control js-initform" id="grow" name="grow" onkeyup="numberFix4Decimal(this)" style="width: 557px">
                            <span class="input-group-addon">cm</span>
                          </div>
                        </td>
                    </tr> 
                      <tr>
                      <td class="text-right"><b>宽：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                          <div class="input-group">
                            <input type="text" class="form-control js-initform" id="broad" name="broad" onkeyup="numberFix4Decimal(this)" style="width: 557px">
                            <span class="input-group-addon">cm</span>
                          </div>
                        </td>
                    </tr> 
                    <tr>
                      <td class="text-right"><b>毛重：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                          <div class="input-group">
                            <input type="text" class="form-control js-initform" id="grossWeight" name="grossWeight" onkeyup="numberFix4Decimal(this)" style="width: 559px">
                            <span class="input-group-addon">kg</span>
                          </div>
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>净重：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                          <div class="input-group">
                            <input type="text" class="form-control js-initform" id="netWeight" name="netWeight" onkeyup="numberFix4Decimal(this)" style="width: 559px">
                            <span class="input-group-addon">kg</span>
                          </div>
                       </td>
                    </tr> 
                    <tr>
                      <td class="text-right"><b>采购指导价：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="purchasePrice" name="purchasePrice" onkeyup="numberFix4Decimal(this)"   style="width:500px">
                            <select class="form-control js-initform" data-url="DEFAULT_CURRENCY_TYPE" id="purCurrencyType"  name="purCurrencyType"   style="width:100px"> </select> 
                       
                       </td>
                    </tr>
                    <tr>
                      <td class="text-right"><b>销售指导价：<em class="text-star">*</em></b></td> 
                      <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="salePrice" name="salePrice" onkeyup="numberFix4Decimal(this)"   style="width:500px">
                            <select class="form-control js-initform" data-url="DEFAULT_CURRENCY_TYPE" id="saleCurrencyType"  name="saleCurrencyType"  style="width:100px"> </select> 
                      
                       </td>
                    </tr>  
                  </table>
            </div>
            <!-- /.box-body --> 
            <div class="box-footer text-center">
              <button type="submit" id="save" data-permissionUrl="/goods/update" class="btn btn-primary btn-sm">保存</button> 
              <button type="button"  data-url="html/baseinfo/goods/goodsSearch.html"id="js-back" class="btn btn-default btn-sm">返回</button> 
            </div>
            <!-- /.box-footer -->

          </form>
        </div>
  </section>
</div>
<script>

options.initPage = function(){
	
	GLOBAL.getEditData($("#form1"), options.param.id);
	 $("#form1").validate({
		 rules: {
			 number: {
                 required: true,
                 alnum: true
             },
             name: {
                 required: true 
             },
             type: {
                 required: true 
             },
             barCode: {
                 required: true 
             },
             specification: {
                 required: true
             }, 
             taxRate: {
               required: true
             },
             unit: {
                 required: true 
             },
             volume: {
                 required: true,
                 number: true
             },
             grossWeight: {
                 required: true,
                 number: true
             },
             netWeight: {
                 required: true,
                 number: true
             },
             purchasePrice: {
                 required: true,
                 number: true
             },
             salePrice: {
                 required: true,
                 number: true
             }, 
             purCurrencyType: {
                 required: true
             },
             saleCurrencyType: {
                 required: true 
             }
         },
	        submitHandler: function() {
	          var data = $("#form1").serialize();
	          GLOBAL.ajax("goods/update",data, function(e){
	        	  if (e.success) {
	            	  layer.msg("更新成功！", {
	                      icon: 1,
	                      time: 1500
	                  },function(){
	                	  GLOBAL.go("html/baseinfo/goods/goodsEdit.html");
	                  })
	              } else {
	                  layer.msg(e.msg);
	              }
	          });
	        }
	    });
  };
 
  $(".tab-item").click(function(){
      var url = $(this).data("url");
      GLOBAL.go(url, options.param);
  }) 
  $("#js-back").click(function(){
	    var url = $(this).data("url");
	    options.param.id=options.param.cid;
	    GLOBAL.go(url, options.param);
  })
  
</script>

