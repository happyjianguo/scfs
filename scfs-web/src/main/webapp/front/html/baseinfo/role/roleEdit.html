<div class="wrapper">
  <section class="content-header my-content-header">
     <ol class="breadcrumb">
    <li>当前位置</li>
    <li>基础信息</li>
    <li class="active">角色</li>
  </ol>
   </section>
  <section class="product-wrap">
        <div class="box no-margin"> 
          <form class="form-horizontal form-inline" id="form1" data-url="role/detail">
            <div class="box-body">
                <ul class="nav nav-tabs">
                	<li role="presentation" class="active"><a class="tab-item" data-url="html/baseinfo/role/roleEdit.html">基本信息</a></li> 
                  	<li role="presentation"><a class="tab-item" id="project"  data-url="html/baseinfo/role/authorityGroupEdit.html">权限组信息</a></li> 
                  	<li role="presentation" ><a class="tab-item" data-url="html/baseinfo/role/authorityInfo.html">权限信息</a></li>
                  	<li role="presentation" ><a class="tab-item" data-url="html/baseinfo/role/userInfo.html">用户信息</a></li> 
                </ul> 
                  <input class="form-control js-initform" type="hidden" id="id" name="id">
                 <table class="table table-bordered table-hover no-margin">
                  	<tr>
                      <td width="180" class="text-right"><b>角色名：<em class="text-star">*</em></b></td> 
                       <td class="text-left">
                        	<input type="text" class="form-control js-initform" id="name" name="name">
                       </td>
                    </tr> 
                  </table>
            </div>
            <!-- /.box-body -->

            <div class="box-footer text-center">
              <button type="submit" id="save" class="btn btn-primary btn-sm" data-permissionUrl="/role/update">保存</button>
              <button type="button" id="back" data-url="html/baseinfo/role/rolesearch.html" class="btn btn-default btn-sm js-back">返回</button>
            </div>
            <!-- /.box-footer -->

          </form>
        </div>
  </section>
</div>
 
<script>
options.initPage = function() {
	GLOBAL.getEditData($("#form1"), options.param.id);

	$(".tab-item").click(function() {
		var url = $(this).data("url");
		GLOBAL.go(url);
	});

	$("#back").click(function() {
		var url = $(this).data("url");
		GLOBAL.go(url);
	});

	$("#form1").validate({
		rules : {
			name : {
				required : true
			}
		},
		submitHandler : function() {
			var data = $("#form1").serializeObject();
			GLOBAL.ajax("role/update", data, function(e) {
				if (e.success) {
					layer.msg("修改成功！");
				} else {
					layer.msg(e.msg);
				}
			});
		}
	});
}
</script>
