<div class="wrapper">
    <section class="content-header my-content-header">
	  <ol class="breadcrumb">
	    <li>当前位置</li>
	    <li>采购</li>
	    <li>采购退货单</li>
	    <li class="active">退货单明细浏览</li>
	  </ol>
  	</section>
    <!--引入面包屑-->
    <section class="product-wrap">
        <div class="box no-margin">
            <form class="form-horizontal">
                <div class="box-body">
                    <ul class="nav nav-tabs">
	                  <li role="presentation" ><a class="tab-item" data-url="html/purchaseReturn/poReturnBaseInfoScan.html">基础信息</a></li>
	                  <li role="presentation" class="active"><a class="tab-item" id="orderDtlLink" data-url="html/purchaseReturn/poReturnDtlScan.html">退货单明细信息</a></li>
	                  <li role="presentation"><a class="tab-item" data-url="html/purchaseReturn/attachmentScan.html">附件</a></li>
	                </ul>
					<table id="js_dataTable" data-url="poReturn/billInStoreLine/query"></table> 
                </div>
                <!-- /.box-body -->

                <div class="box-footer text-center">
                    <button type="button" data-url="html/purchaseReturn/poReturnSearch.html" class="btn btn-default btn-sm js-back">返回 </button>
                </div>
                <!-- /.box-footer -->

            </form>
        </div>
    </section>
</div>
<script> 
/*数据表格*/
var tabCols = [ 
	{
        title: '商品编号',
        field: 'goodsNumber',
        width: 80,
        align: 'center'
    }, {
        title: '商品条码',
        field: "goodsBarCode",
        width: 80,
        align: 'center'
    }, {
        title: '名称',
        field: 'goodsName',
        width: 110,
        align: 'center'
    }, {
        title: '型号',
        field: 'goodsType',
        width: 100,
        align: 'center'
    },{
        title: '规格',
        field: 'specification',
        width: 100,
        align: 'center'
    }, {
        title: '入库数量',
        field: 'tallyNum',
        width: 70,
        align: 'center',
        formatter: function (value, row, index) {
            return value == null ? "" : value.toThounds();
        }

    }, {
        title: '收货单价',
        field: 'receivePrice',
        width: 70,
        align: 'center',
        formatter: function (value, row, index) {
            return value == null ? "" : value.toThounds();
        }

    }, {
        title: '退货数量',
        field: 'returnNum',
        width: 70,
        align: 'center',
        formatter: function (value, row, index) {
            return value == null ? "" : value.toThounds();
        }

    }, {
        title: '退货单价',
        field: 'returnPrice',
        width: 70,
        align: 'center',
        formatter: function (value, row, index) {
            return value == null ? "" : value.toThounds();
        }

    },{
        title: '币种',
        field: "currencyTypeName",
        width: 70,
        align: 'center'
    },{
        title: '批次',
        field: 'batchNo',
        width: 80,
        align: 'center'
    },{
        title: '库存状态',
        field: 'goodsStatusName',
        width: 80,
        align: 'center'
    }
];

    options.initPage = function () {
        GLOBAL.initTable($('#js_dataTable'), tabCols, {id: options.param.id}, null,{
            onLoadSuccess: function(data){
                if(data.options.totalStr != null){
                    $('#js_dataTable tbody').append("<tr><td style='text-align:left' colspan='" + tabCols.length + "'><b>"+data.options.totalStr+"</b></td></tr>");
                }
            }
        });
    };

    $(".tab-item").click(function () {
        var url = $(this).data("url");
        GLOBAL.go(url);
    })

    
    GLOBAL.goBack();
</script>
